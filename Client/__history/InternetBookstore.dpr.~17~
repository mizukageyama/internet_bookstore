program InternetBookstore;

uses
  Vcl.Forms,
  BookstoreDM in 'BookstoreDM.pas' {BookstoreDataModule: TDataModule},
  BookDetailsFrm in 'Views\BookDetailsFrm.pas' {BookDetailsForm},
  LoginFrm in 'Views\LoginFrm.pas' {LoginForm},
  MainFrm in 'Views\MainFrm.pas' {MainForm},
  WriteReviewFrm in 'Views\WriteReviewFrm.pas' {WriteReviewForm},
  MainPresenterIntf in 'Presenters\MainPresenterIntf.pas',
  MainPresenter in 'Presenters\MainPresenter.pas',
  BookRepositoryIntf in 'Repositories\BookRepositoryIntf.pas',
  MainFrmIntf in 'Views\MainFrmIntf.pas',
  BookServiceClient in 'Services\BookServiceClient.pas',
  BookRepository in 'Repositories\BookRepository.pas',
  BookDTO in 'Models\BookDTO.pas',
  BookServiceClientIntf in 'Services\BookServiceClientIntf.pas';

{$R *.res}

var
  BookRepository: IBookRepository;
  BookService: IBookServiceClient;
  MainPresenter: IMainPresenter;
  MainForm: TMainForm;
begin
  Application.Initialize;
  Application.MainFormOnTaskbar := True;

  Application.CreateForm(TMainForm, MainForm);
  BookRepository := TBookRepository.Create;
  BookService := TBookServiceClient.Create(BookRepository);
  MainPresenter := TMainPresenter.Create(MainForm, BookService);
  MainForm.SetPresenter(MainPresenter);

  Application.Run;
end.
