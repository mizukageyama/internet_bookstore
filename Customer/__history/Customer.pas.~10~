unit Customer;

interface

uses
  MVCFramework.Serializer.Commons,
  MVCFramework.ActiveRecord,
  MVCFramework.Nullables,
  MVCFramework.Commons,
  MVCFramework.SQLGenerators.MySQL,
  System.Generics.Collections;

type
  [MVCNameCase(ncCamelCase)]
  [MVCTable('customer')]
  TCustomer = class(TMVCActiveRecord)
  private
    [MVCTableField('ID', [foPrimaryKey, foAutoGenerated])]
    FId: Integer;
    [MVCTableField('FIRST_NAME')]
    FFirstName: string;
    [MVCTableField('LAST_NAME')]
    FLastName: string;
    [MVCTableField('EMAIL')]
    FEmail: string;
    [MVCTableField('PASSWORD')]
    FPassword: string;
  public
    function IsValid: Boolean;
    function IsPasswordCorrect(const APassword: string): boolean;
    property Id: Integer read FId write FId;
    property FirstName: string read FFirstName write FFirstName;
    property LastName: string read FLastName write FLastName;
    property Email: string read FEmail write FEmail;
    property Password: string read FPassword write FPassword;
  end;

implementation

{ TCustomer }

function TCustomer.IsPasswordCorrect(const APassword: string): boolean;
begin
  Result := Password = APassword;
end;

function TCustomer.IsValid: Boolean;
begin
  Result := (FirstName <> '') and
    (LastName <> '') and
    (Email <> '') and
    (Password <> '');
end;

end.
