unit BookDetailsPresenterTest;

interface

uses
  DUnitX.TestFramework, BookDetailsPresenterIntf, BookDetailsFrmIntf,
  CustomerReviewServiceIntf, Book, WriteReviewFrmIntf,
  MockBookDetailsPresenter;

type
  [TestFixture]
  TBookDetailsPresenterTest = class
  private
    FBookDetailsPresenter: IBookDetailsPresenter;
  public
    [Setup]
    procedure Setup;
    [TearDown]
    procedure TearDown;
    [Test]
    procedure TestDisplayBookDetails;
    [Test]
    procedure TestWriteReview;
    [Test]
    procedure TestShowWriteReviewView;
    [Test]
    procedure TestShowLoginView;
  end;

implementation

procedure TBookDetailsPresenterTest.Setup;
var
  FMockBookDetailsView: IBookDetailsView;
  FMockCustomerReviewService: ICustomerReviewService;
  Book: TBook;
begin
  Book := TBook.Create(1, 'Harry Potter', 'Once upon a time, there was..');
  FBookDetailsPresenter := TMockBookDetailsPresenter.Create(
    FMockBookDetailsView, Book);
end;

procedure TBookDetailsPresenterTest.TearDown;
begin
  FBookDetailsPresenter := nil;
end;

procedure TBookDetailsPresenterTest.TestDisplayBookDetails;
begin

end;

procedure TBookDetailsPresenterTest.TestShowLoginView;
begin

end;

procedure TBookDetailsPresenterTest.TestShowWriteReviewView;
begin
  var WriteReviewView: IWriteReviewView;
  FBookDetailsPresenter.ShowWriteReviewView;

  Assert.IsNotNull(WriteReviewView, 'WriteReviewView should not be nil.');
end;

procedure TBookDetailsPresenterTest.TestWriteReview;
begin

end;

initialization
  TDUnitX.RegisterTestFixture(TBookDetailsPresenterTest);

end.
